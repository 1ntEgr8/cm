#!/usr/bin/env bash

# source installation env
source ./env

# stop if any failue encountered
set -e

function handle_install() {
  formulae=$(find . -type f -name formula)

  # make formulae executable
  chmod +x $formulae
  
  for formula in $formulae; do
    $formula install
    $formula configure
  done
}

if [[ $# -eq 0 ]]; then
  help_text
fi

cmd="$1"
if [[ ! -e "cmd/$cmd" ]]; then
    warn "The command $cmd doesn't exist. See help text below for a list of supported commands"
    cmd/help "main" "index"
else
    shift
    cmd/$cmd "main" $@
fi
